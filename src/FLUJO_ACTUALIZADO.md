# ğŸ”„ FLUJO ACTUALIZADO - AURÃ‰THICA
## Hero â†’ Registro â†’ Gigi â†’ Test â†’ Avatar â†’ App

**Actualizado:** 31 de Octubre, 2025  
**VersiÃ³n:** 3.1 - Flujo de Onboarding Optimizado

---

## ğŸ¯ CAMBIO PRINCIPAL

### ANTES (v3.0):
```
Hero â†’ CÃ³mo Funciona â†’ Gigi Calibration â†’ Test â†’ Registro â†’ Avatar â†’ App
```

### AHORA (v3.1):
```
Hero â†’ Registro â†’ Gigi Calibration â†’ Test â†’ Avatar â†’ App
```

---

## ğŸ“‹ FLUJO DETALLADO

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. HERO / LANDING                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  â€¢ Mensaje de bienvenida                        â”‚
â”‚  â€¢ Value proposition                            â”‚
â”‚  â€¢ CTA: "Descubre tu estilo" â†’                 â”‚
â”‚                                                 â”‚
â”‚  [BOTÃ“N] â†’ Lleva a REGISTRO                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. REGISTRO                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  â€¢ Nombre completo *                            â”‚
â”‚  â€¢ Email *                                      â”‚
â”‚  â€¢ TelÃ©fono (opcional)                          â”‚
â”‚  â€¢ Aceptar tÃ©rminos y condiciones *            â”‚
â”‚                                                 â”‚
â”‚  [REGISTRARSE] â†’ Callback ejecuta              â”‚
â”‚  handleRegistrationComplete()                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. CALIBRACIÃ“N DE GIGI                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Ventana0 con 5 preguntas:                      â”‚
â”‚  â€¢ Confianza                                    â”‚
â”‚  â€¢ Cambio                                       â”‚
â”‚  â€¢ Seguridad                                    â”‚
â”‚  â€¢ ExpresiÃ³n                                    â”‚
â”‚  â€¢ ConfirmaciÃ³n                                 â”‚
â”‚                                                 â”‚
â”‚  [CONTINUAR] â†’ Callback ejecuta                â”‚
â”‚  handleCalibrationComplete()                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. TEST DE AURÃ‰THICA                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  â€¢ Test personalizado segÃºn calibraciÃ³n Gigi    â”‚
â”‚  â€¢ Preguntas sobre estilo de ropa (ORIGINALES) â”‚
â”‚  â€¢ Tono de Gigi adaptado                        â”‚
â”‚                                                 â”‚
â”‚  [FINALIZAR TEST] â†’ Callback ejecuta           â”‚
â”‚  handleTestComplete()                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. AVATAR UPLOAD                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  â€¢ Subir 10 fotos obligatorias                  â”‚
â”‚  â€¢ Drag & Drop habilitado                       â”‚
â”‚  â€¢ Preview con eliminar individual              â”‚
â”‚  â€¢ Barra de progreso                            â”‚
â”‚                                                 â”‚
â”‚  [GENERAR AVATAR] â†’ Callback ejecuta           â”‚
â”‚  handleAvatarUploadComplete()                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. MODO APP                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  NavegaciÃ³n:                                    â”‚
â”‚  â€¢ ğŸ” BÃºsqueda                                  â”‚
â”‚  â€¢ âœ¨ Blog (Instagram feed)                     â”‚
â”‚  â€¢ ğŸ‘¤ Mi Perfil                                 â”‚
â”‚  â€¢ ğŸ’• Gigi Helper                               â”‚
â”‚                                                 â”‚
â”‚  Hero/Test/Registro ya no visibles             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ CALLBACKS Y FLUJO DE ESTADO

### Estado de Onboarding:

```typescript
const [onboardingStep, setOnboardingStep] = useState<OnboardingStep>('hero');

type OnboardingStep = 
  | 'hero'         // 1. Landing inicial
  | 'registration' // 2. Formulario de registro
  | 'gigi'         // 3. CalibraciÃ³n de Gigi
  | 'test'         // 4. Test de AurÃ©thica
  | 'avatar';      // 5. Subida de fotos
```

### Secuencia de Callbacks:

```typescript
// 1. Usuario hace click en Hero
Hero.onStartTest() 
  â†’ nextSection() 
  â†’ setOnboardingStep('registration')
  â†’ scrollToSection('registration-section')

// 2. Usuario completa registro
Registration.onComplete(data)
  â†’ handleRegistrationComplete(data)
  â†’ setRegistrationData(data)
  â†’ setOnboardingStep('gigi')
  â†’ scrollToSection('gigi-intro')

// 3. Usuario completa calibraciÃ³n Gigi
Ventana0.onCalibrationComplete(selections)
  â†’ handleCalibrationComplete(selections)
  â†’ setGigiCalibration(selections)
  â†’ setShowTest(true)
  â†’ setOnboardingStep('test')
  â†’ scrollToSection('aurethica-test')

// 4. Usuario completa test
BeautyTest.onComplete()
  â†’ handleTestComplete()
  â†’ setOnboardingStep('avatar')

// 5. Usuario sube 10 fotos
AvatarUpload.onComplete(photos)
  â†’ handleAvatarUploadComplete(photos)
  â†’ setAvatarPhotos(photos)
  â†’ setAppMode('app')
  â†’ setAppView('blog')
```

---

## ğŸ“Š RENDERIZADO CONDICIONAL

### LÃ³gica en App.tsx:

```typescript
// Renderizado principal basado en appMode
if (appMode === 'app') {
  return <AppMode>; // Blog, Perfil, BÃºsqueda
}

// Si estÃ¡ en step 'avatar', mostrar solo AvatarUpload
if (onboardingStep === 'avatar') {
  return <AvatarUpload />;
}

// Onboarding normal con secciones
return (
  <>
    <NavigationBar />
    
    {/* Hero visible solo si openSections incluye 'hero-section' */}
    {openSections.includes('hero-section') && <Hero />}
    
    {/* Registro visible solo si onboardingStep === 'registration' */}
    {onboardingStep === 'registration' && <Registration />}
    
    {/* Gigi visible si openSections incluye 'gigi-intro' O onboardingStep === 'gigi' */}
    {(openSections.includes('gigi-intro') || onboardingStep === 'gigi') && <Ventana0 />}
    
    {/* Test visible si showTest Y (openSections incluye 'aurethica-test' O onboardingStep === 'test') */}
    {showTest && (openSections.includes('aurethica-test') || onboardingStep === 'test') && <BeautyTest />}
  </>
);
```

---

## ğŸ¯ VENTAJAS DEL NUEVO FLUJO

### 1. **Captura Temprana de Datos**
âœ… Registro al inicio â†’ asegura datos del usuario antes de inversiÃ³n de tiempo  
âœ… Menos abandono despuÃ©s de completar test y calibraciÃ³n  
âœ… Email capturado para seguimiento

### 2. **Experiencia MÃ¡s LÃ³gica**
âœ… "Primero regÃ­strate, luego personalizamos"  
âœ… SensaciÃ³n de exclusividad (solo usuarios registrados acceden al test)  
âœ… Compromiso gradual: datos â†’ personalizaciÃ³n â†’ avatar

### 3. **Menor FricciÃ³n**
âœ… Registro es simple (solo 2 campos obligatorios)  
âœ… Usuario ya estÃ¡ "dentro" cuando empieza el test  
âœ… Flujo mÃ¡s directo desde Hero

### 4. **Mejor para ConversiÃ³n**
âœ… CTA claro desde el Hero  
âœ… Registro sin distracciones intermedias  
âœ… Menor tasa de abandono

---

## ğŸ› ï¸ CAMBIOS TÃ‰CNICOS IMPLEMENTADOS

### App.tsx:

```typescript
// ANTES:
const nextSection = () => {
  setOnboardingStep('howItWorks');
  scrollToSection("how-it-works");
};

// AHORA:
const nextSection = () => {
  setOnboardingStep('registration');
  scrollToSection("registration-section");
};
```

```typescript
// ANTES:
const handleRegistrationComplete = (data: RegistrationData) => {
  setRegistrationData(data);
  setOnboardingStep('avatar');
};

// AHORA:
const handleRegistrationComplete = (data: RegistrationData) => {
  setRegistrationData(data);
  setOnboardingStep('gigi');
  setTimeout(() => {
    const gigiSection = document.getElementById("gigi-intro");
    gigiSection?.scrollIntoView({ behavior: "smooth" });
  }, 100);
};
```

```typescript
// ANTES:
const handleTestComplete = () => {
  setOnboardingStep('registration');
  setTimeout(() => {
    const registrationSection = document.getElementById("registration-section");
    registrationSection?.scrollIntoView({ behavior: "smooth" });
  }, 100);
};

// AHORA:
const handleTestComplete = () => {
  setOnboardingStep('avatar');
};
```

### Renderizado Condicional de Gigi y Test:

```typescript
// Gigi se muestra si:
{(openSections.includes('gigi-intro') || onboardingStep === 'gigi') && (
  <Ventana0 onCalibrationComplete={handleCalibrationComplete} />
)}

// Test se muestra si:
{showTest && (openSections.includes('aurethica-test') || onboardingStep === 'test') && (
  <BeautyTest onComplete={handleTestComplete} />
)}
```

---

## ğŸ“± EXPERIENCIA DE USUARIO

### Desktop:

1. **Hero aparece** con mensaje principal
2. Click en "Descubre tu estilo" â†’ **Scroll suave al registro**
3. Usuario llena formulario â†’ Click "Registrarse"
4. **AnimaciÃ³n de Ã©xito** â†’ **Scroll automÃ¡tico a Gigi**
5. Usuario completa calibraciÃ³n â†’ **Scroll automÃ¡tico al Test**
6. Usuario completa test â†’ **TransiciÃ³n a Avatar Upload** (pantalla completa)
7. Usuario sube 10 fotos â†’ **TransiciÃ³n a Modo App**

### Mobile:

- Mismo flujo pero con scroll mÃ¡s visible
- Formulario de registro optimizado para mobile
- CalibraciÃ³n Gigi con gestos tÃ¡ctiles
- Avatar upload con drag & drop mÃ³vil

---

## ğŸ¨ ANIMACIONES

### Transiciones entre Pasos:

```typescript
<motion.section
  initial={{ height: 0, opacity: 0 }}
  animate={{ height: 'auto', opacity: 1 }}
  exit={{ height: 0, opacity: 0 }}
  transition={{ duration: 0.5, ease: 'easeInOut' }}
>
```

### Scroll Suave:

```typescript
setTimeout(() => {
  const section = document.getElementById("section-id");
  section?.scrollIntoView({ behavior: "smooth" });
}, 100);
```

### Modo App (Cambio de Vista):

```typescript
<motion.div
  key="blog"
  initial={{ opacity: 0, y: 20 }}
  animate={{ opacity: 1, y: 0 }}
  exit={{ opacity: 0, y: -20 }}
  transition={{ duration: 0.3 }}
>
```

---

## âœ… CHECKLIST DE VALIDACIÃ“N

### Flujo Completo:

- [x] Hero CTA lleva a Registro
- [x] Registro completo lleva a Gigi
- [x] CalibraciÃ³n Gigi completa lleva a Test
- [x] Test completo lleva a Avatar Upload
- [x] Avatar Upload completo lleva a Modo App
- [x] Scrolls automÃ¡ticos funcionan
- [x] Animaciones suaves
- [x] Estados persistentes (registrationData, gigiCalibration)

### Datos Guardados:

- [x] `registrationData` - nombre, email, telÃ©fono
- [x] `gigiCalibration` - 5 selecciones de calibraciÃ³n
- [x] `avatarPhotos` - 10 archivos de imagen
- [x] Todos disponibles en Modo App

### Modo App:

- [x] NavigationBarApp renderiza correctamente
- [x] Blog se muestra por defecto
- [x] Perfil muestra datos del usuario
- [x] BÃºsqueda funciona
- [x] Ãcono de Gigi animado

---

## ğŸ¯ COMPARACIÃ“N: ANTES vs AHORA

| Aspecto | Antes (v3.0) | Ahora (v3.1) |
|---------|--------------|--------------|
| **Primer paso despuÃ©s de Hero** | CÃ³mo Funciona | Registro |
| **CuÃ¡ndo se capturan datos** | DespuÃ©s del test | Al inicio |
| **Pasos hasta el test** | 3 (Hero â†’ CÃ³mo â†’ Gigi â†’ Test) | 2 (Hero â†’ Registro â†’ Gigi â†’ Test) |
| **Experiencia** | Exploratoria | Directa y comprometida |
| **ConversiÃ³n esperada** | Media | Alta |
| **Abandono esperado** | DespuÃ©s del test | MÃ­nimo |

---

## ğŸ“ NOTAS IMPORTANTES

### Preservado:

âœ… Las preguntas del test **NO se modifican** (sobre ROPA, no belleza)  
âœ… La calibraciÃ³n de Gigi sigue siendo la misma (5 preguntas)  
âœ… El sistema de navegaciÃ³n colapsable sigue funcionando  
âœ… Secciones como "CÃ³mo Funciona" y "Blog" siguen disponibles en navegaciÃ³n

### Nuevo:

âœ¨ Registro es el primer paso activo  
âœ¨ Flujo mÃ¡s lineal y predecible  
âœ¨ Menor fricciÃ³n para llegar al contenido personalizado  
âœ¨ Datos capturados antes de inversiÃ³n de tiempo del usuario

---

## ğŸš€ PRÃ“XIMOS PASOS POTENCIALES

### Optimizaciones Futuras:

1. **Email de bienvenida** despuÃ©s del registro
2. **Guardar progreso** en cada paso (localStorage o backend)
3. **Permitir retomar** desde donde se quedÃ³
4. **ValidaciÃ³n de email** real (cÃ³digo de confirmaciÃ³n)
5. **Social login** (Google, Facebook) para registro mÃ¡s rÃ¡pido

### Analytics:

- Medir **tasa de abandono** en cada paso
- A/B testing del **texto del CTA** en Hero
- Tracking de **tiempo en cada paso**
- **Heatmaps** del formulario de registro

---

**VersiÃ³n:** 3.1 - Flujo Optimizado  
**Estado:** âœ… Implementado y Funcional  
**Ãšltima actualizaciÃ³n:** 31 de Octubre, 2025
